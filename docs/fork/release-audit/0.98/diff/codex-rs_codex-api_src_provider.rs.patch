diff --git a/codex-rs/codex-api/src/provider.rs b/codex-rs/codex-api/src/provider.rs
index 81a168ffd..d7e7c1941 100644
--- a/codex-rs/codex-api/src/provider.rs
+++ b/codex-rs/codex-api/src/provider.rs
@@ -8,6 +8,14 @@ use std::collections::HashMap;
 use std::time::Duration;
 use url::Url;
 
+/// Wire-level APIs supported by a `Provider`.
+#[derive(Debug, Clone, PartialEq, Eq)]
+pub enum WireApi {
+    Responses,
+    Chat,
+    Compact,
+}
+
 /// High-level retry configuration for a provider.
 ///
 /// This is converted into a `RetryPolicy` used by `codex-client` to drive
@@ -44,6 +52,7 @@ pub struct Provider {
     pub name: String,
     pub base_url: String,
     pub query_params: Option<HashMap<String, String>>,
+    pub wire: WireApi,
     pub headers: HeaderMap,
     pub retry: RetryConfig,
     pub stream_idle_timeout: Duration,
@@ -86,7 +95,7 @@ impl Provider {
     }
 
     pub fn is_azure_responses_endpoint(&self) -> bool {
-        is_azure_responses_wire_base_url(&self.name, Some(&self.base_url))
+        is_azure_responses_wire_base_url(self.wire.clone(), &self.name, Some(&self.base_url))
     }
 
     pub fn websocket_url_for_path(&self, path: &str) -> Result<Url, url::ParseError> {
@@ -103,7 +112,11 @@ impl Provider {
     }
 }
 
-pub fn is_azure_responses_wire_base_url(name: &str, base_url: Option<&str>) -> bool {
+pub fn is_azure_responses_wire_base_url(wire: WireApi, name: &str, base_url: Option<&str>) -> bool {
+    if wire != WireApi::Responses {
+        return false;
+    }
+
     if name.eq_ignore_ascii_case("azure") {
         return true;
     }
@@ -144,12 +157,13 @@ mod tests {
 
         for base_url in positive_cases {
             assert!(
-                is_azure_responses_wire_base_url("test", Some(base_url)),
+                is_azure_responses_wire_base_url(WireApi::Responses, "test", Some(base_url)),
                 "expected {base_url} to be detected as Azure"
             );
         }
 
         assert!(is_azure_responses_wire_base_url(
+            WireApi::Responses,
             "Azure",
             Some("https://example.com")
         ));
@@ -162,9 +176,15 @@ mod tests {
 
         for base_url in negative_cases {
             assert!(
-                !is_azure_responses_wire_base_url("test", Some(base_url)),
+                !is_azure_responses_wire_base_url(WireApi::Responses, "test", Some(base_url)),
                 "expected {base_url} not to be detected as Azure"
             );
         }
+
+        assert!(!is_azure_responses_wire_base_url(
+            WireApi::Chat,
+            "Azure",
+            Some("https://foo.openai.azure.com/openai")
+        ));
     }
 }
