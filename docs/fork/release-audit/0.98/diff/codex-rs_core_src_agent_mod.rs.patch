diff --git a/codex-rs/core/src/agent/mod.rs b/codex-rs/core/src/agent/mod.rs
index 03652e43e..da1b9d16e 100644
--- a/codex-rs/core/src/agent/mod.rs
+++ b/codex-rs/core/src/agent/mod.rs
@@ -1,5 +1,8 @@
 pub(crate) mod control;
 mod guards;
+// === FORK: AGENT REGISTRY START ===
+pub(crate) mod registry;
+// === FORK: AGENT REGISTRY END ===
 pub(crate) mod role;
 pub(crate) mod status;
 
@@ -8,5 +11,8 @@ pub(crate) use control::AgentControl;
 pub(crate) use guards::MAX_THREAD_SPAWN_DEPTH;
 pub(crate) use guards::exceeds_thread_spawn_depth_limit;
 pub(crate) use guards::next_thread_spawn_depth;
-pub(crate) use role::AgentRole;
 pub(crate) use status::agent_status_from_event;
+
+// AgentRole kept for backward compatibility but deprecated
+#[allow(unused_imports)]
+pub(crate) use role::AgentRole;
