diff --git a/codex-rs/codex-api/src/requests/responses.rs b/codex-rs/codex-api/src/requests/responses.rs
index 201e638d0..a0e90db06 100644
--- a/codex-rs/codex-api/src/requests/responses.rs
+++ b/codex-rs/codex-api/src/requests/responses.rs
@@ -191,6 +191,7 @@ fn attach_item_ids(payload_json: &mut Value, original_items: &[ResponseItem]) {
 mod tests {
     use super::*;
     use crate::provider::RetryConfig;
+    use crate::provider::WireApi;
     use codex_protocol::protocol::SubAgentSource;
     use http::HeaderValue;
     use pretty_assertions::assert_eq;
@@ -201,6 +202,7 @@ mod tests {
             name: name.to_string(),
             base_url: base_url.to_string(),
             query_params: None,
+            wire: WireApi::Responses,
             headers: HeaderMap::new(),
             retry: RetryConfig {
                 max_attempts: 1,
