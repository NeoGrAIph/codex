diff --git a/codex-rs/core/tests/suite/model_tools.rs b/codex-rs/core/tests/suite/model_tools.rs
index d74ab0d7b..ce0aaa18a 100644
--- a/codex-rs/core/tests/suite/model_tools.rs
+++ b/codex-rs/core/tests/suite/model_tools.rs
@@ -2,11 +2,16 @@
 
 use codex_core::features::Feature;
 use codex_protocol::config_types::WebSearchMode;
+use core_test_support::load_sse_fixture_with_id;
 use core_test_support::responses;
 use core_test_support::responses::start_mock_server;
 use core_test_support::skip_if_no_network;
 use core_test_support::test_codex::test_codex;
 
+fn sse_completed(id: &str) -> String {
+    load_sse_fixture_with_id("../fixtures/completed_template.json", id)
+}
+
 #[allow(clippy::expect_used)]
 fn tool_identifiers(body: &serde_json::Value) -> Vec<String> {
     body["tools"]
@@ -26,10 +31,7 @@ fn tool_identifiers(body: &serde_json::Value) -> Vec<String> {
 #[allow(clippy::expect_used)]
 async fn collect_tool_identifiers_for_model(model: &str) -> Vec<String> {
     let server = start_mock_server().await;
-    let sse = responses::sse(vec![
-        responses::ev_response_created(model),
-        responses::ev_completed(model),
-    ]);
+    let sse = sse_completed(model);
     let resp_mock = responses::mount_sse_once(&server, sse).await;
 
     let mut builder = test_codex()
@@ -50,16 +52,6 @@ async fn collect_tool_identifiers_for_model(model: &str) -> Vec<String> {
     tool_identifiers(&body)
 }
 
-fn expected_default_tools(shell_tool: &str, tail: &[&str]) -> Vec<String> {
-    let mut tools = if cfg!(windows) {
-        vec![shell_tool.to_string()]
-    } else {
-        vec!["exec_command".to_string(), "write_stdin".to_string()]
-    };
-    tools.extend(tail.iter().map(|tool| (*tool).to_string()));
-    tools
-}
-
 #[tokio::test(flavor = "multi_thread", worker_threads = 2)]
 async fn model_selects_expected_tools() {
     skip_if_no_network!();
@@ -68,93 +60,103 @@ async fn model_selects_expected_tools() {
     let codex_tools = collect_tool_identifiers_for_model("codex-mini-latest").await;
     assert_eq!(
         codex_tools,
-        expected_default_tools(
-            "local_shell",
-            &[
-                "list_mcp_resources",
-                "list_mcp_resource_templates",
-                "read_mcp_resource",
-                "update_plan",
-                "request_user_input",
-                "web_search",
-                "view_image",
-            ],
-        ),
+        vec![
+            "local_shell".to_string(),
+            "list_mcp_resources".to_string(),
+            "list_mcp_resource_templates".to_string(),
+            "read_mcp_resource".to_string(),
+            "update_plan".to_string(),
+            "request_user_input".to_string(),
+            "web_search".to_string(),
+            "view_image".to_string()
+        ],
         "codex-mini-latest should expose the local shell tool",
     );
 
     let gpt5_codex_tools = collect_tool_identifiers_for_model("gpt-5-codex").await;
     assert_eq!(
         gpt5_codex_tools,
-        expected_default_tools(
-            "shell_command",
-            &[
-                "list_mcp_resources",
-                "list_mcp_resource_templates",
-                "read_mcp_resource",
-                "update_plan",
-                "request_user_input",
-                "apply_patch",
-                "web_search",
-                "view_image",
-            ],
-        ),
+        vec![
+            "shell_command".to_string(),
+            "list_mcp_resources".to_string(),
+            "list_mcp_resource_templates".to_string(),
+            "read_mcp_resource".to_string(),
+            "update_plan".to_string(),
+            "request_user_input".to_string(),
+            "apply_patch".to_string(),
+            "web_search".to_string(),
+            "view_image".to_string()
+        ],
         "gpt-5-codex should expose the apply_patch tool",
     );
 
     let gpt51_codex_tools = collect_tool_identifiers_for_model("gpt-5.1-codex").await;
     assert_eq!(
         gpt51_codex_tools,
-        expected_default_tools(
-            "shell_command",
-            &[
-                "list_mcp_resources",
-                "list_mcp_resource_templates",
-                "read_mcp_resource",
-                "update_plan",
-                "request_user_input",
-                "apply_patch",
-                "web_search",
-                "view_image",
-            ],
-        ),
+        vec![
+            "shell_command".to_string(),
+            "list_mcp_resources".to_string(),
+            "list_mcp_resource_templates".to_string(),
+            "read_mcp_resource".to_string(),
+            "update_plan".to_string(),
+            "request_user_input".to_string(),
+            "apply_patch".to_string(),
+            "web_search".to_string(),
+            "view_image".to_string()
+        ],
         "gpt-5.1-codex should expose the apply_patch tool",
     );
 
+    let gpt52_codex_tools = collect_tool_identifiers_for_model("gpt-5.2-codex").await;
+    assert_eq!(
+        gpt52_codex_tools,
+        vec![
+            "shell_command".to_string(),
+            "list_mcp_resources".to_string(),
+            "list_mcp_resource_templates".to_string(),
+            "read_mcp_resource".to_string(),
+            "update_plan".to_string(),
+            "request_user_input".to_string(),
+            "apply_patch".to_string(),
+            "grep_files".to_string(),
+            "read_file".to_string(),
+            "list_dir".to_string(),
+            "web_search".to_string(),
+            "view_image".to_string(),
+        ],
+        "gpt-5.2-codex should expose read-only file tools",
+    );
+
     let gpt5_tools = collect_tool_identifiers_for_model("gpt-5").await;
     assert_eq!(
         gpt5_tools,
-        expected_default_tools(
-            "shell",
-            &[
-                "list_mcp_resources",
-                "list_mcp_resource_templates",
-                "read_mcp_resource",
-                "update_plan",
-                "request_user_input",
-                "web_search",
-                "view_image",
-            ],
-        ),
+        vec![
+            "shell".to_string(),
+            "list_mcp_resources".to_string(),
+            "list_mcp_resource_templates".to_string(),
+            "read_mcp_resource".to_string(),
+            "update_plan".to_string(),
+            "request_user_input".to_string(),
+            "web_search".to_string(),
+            "view_image".to_string()
+        ],
         "gpt-5 should expose the apply_patch tool",
     );
 
     let gpt51_tools = collect_tool_identifiers_for_model("gpt-5.1").await;
     assert_eq!(
         gpt51_tools,
-        expected_default_tools(
-            "shell_command",
-            &[
-                "list_mcp_resources",
-                "list_mcp_resource_templates",
-                "read_mcp_resource",
-                "update_plan",
-                "request_user_input",
-                "apply_patch",
-                "web_search",
-                "view_image",
-            ],
-        ),
+        vec![
+            "shell_command".to_string(),
+            "list_mcp_resources".to_string(),
+            "list_mcp_resource_templates".to_string(),
+            "read_mcp_resource".to_string(),
+            "update_plan".to_string(),
+            "request_user_input".to_string(),
+            "apply_patch".to_string(),
+            "web_search".to_string(),
+            "view_image".to_string()
+        ],
         "gpt-5.1 should expose the apply_patch tool",
     );
     let exp_tools = collect_tool_identifiers_for_model("exp-5.1").await;
