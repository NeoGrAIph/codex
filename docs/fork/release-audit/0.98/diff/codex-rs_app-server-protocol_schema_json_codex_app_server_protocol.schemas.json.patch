diff --git a/codex-rs/app-server-protocol/schema/json/codex_app_server_protocol.schemas.json b/codex-rs/app-server-protocol/schema/json/codex_app_server_protocol.schemas.json
index 9b22ff220..648de82b6 100644
--- a/codex-rs/app-server-protocol/schema/json/codex_app_server_protocol.schemas.json
+++ b/codex-rs/app-server-protocol/schema/json/codex_app_server_protocol.schemas.json
@@ -598,30 +598,6 @@
           "title": "Thread/unarchiveRequest",
           "type": "object"
         },
-        {
-          "properties": {
-            "id": {
-              "$ref": "#/definitions/RequestId"
-            },
-            "method": {
-              "enum": [
-                "thread/compact/start"
-              ],
-              "title": "Thread/compact/startRequestMethod",
-              "type": "string"
-            },
-            "params": {
-              "$ref": "#/definitions/v2/ThreadCompactStartParams"
-            }
-          },
-          "required": [
-            "id",
-            "method",
-            "params"
-          ],
-          "title": "Thread/compact/startRequest",
-          "type": "object"
-        },
         {
           "properties": {
             "id": {
@@ -742,54 +718,6 @@
           "title": "Skills/listRequest",
           "type": "object"
         },
-        {
-          "properties": {
-            "id": {
-              "$ref": "#/definitions/RequestId"
-            },
-            "method": {
-              "enum": [
-                "skills/remote/read"
-              ],
-              "title": "Skills/remote/readRequestMethod",
-              "type": "string"
-            },
-            "params": {
-              "$ref": "#/definitions/v2/SkillsRemoteReadParams"
-            }
-          },
-          "required": [
-            "id",
-            "method",
-            "params"
-          ],
-          "title": "Skills/remote/readRequest",
-          "type": "object"
-        },
-        {
-          "properties": {
-            "id": {
-              "$ref": "#/definitions/RequestId"
-            },
-            "method": {
-              "enum": [
-                "skills/remote/write"
-              ],
-              "title": "Skills/remote/writeRequestMethod",
-              "type": "string"
-            },
-            "params": {
-              "$ref": "#/definitions/v2/SkillsRemoteWriteParams"
-            }
-          },
-          "required": [
-            "id",
-            "method",
-            "params"
-          ],
-          "title": "Skills/remote/writeRequest",
-          "type": "object"
-        },
         {
           "properties": {
             "id": {
@@ -2510,7 +2438,7 @@
                   "$ref": "#/definitions/v2/ModeKind"
                 }
               ],
-              "default": "default"
+              "default": "code"
             },
             "model_context_window": {
               "format": "int64",
@@ -3971,59 +3899,6 @@
           "title": "ListSkillsResponseEventMsg",
           "type": "object"
         },
-        {
-          "description": "List of remote skills available to the agent.",
-          "properties": {
-            "skills": {
-              "items": {
-                "$ref": "#/definitions/v2/RemoteSkillSummary"
-              },
-              "type": "array"
-            },
-            "type": {
-              "enum": [
-                "list_remote_skills_response"
-              ],
-              "title": "ListRemoteSkillsResponseEventMsgType",
-              "type": "string"
-            }
-          },
-          "required": [
-            "skills",
-            "type"
-          ],
-          "title": "ListRemoteSkillsResponseEventMsg",
-          "type": "object"
-        },
-        {
-          "description": "Remote skill downloaded to local cache.",
-          "properties": {
-            "id": {
-              "type": "string"
-            },
-            "name": {
-              "type": "string"
-            },
-            "path": {
-              "type": "string"
-            },
-            "type": {
-              "enum": [
-                "remote_skill_downloaded"
-              ],
-              "title": "RemoteSkillDownloadedEventMsgType",
-              "type": "string"
-            }
-          },
-          "required": [
-            "id",
-            "name",
-            "path",
-            "type"
-          ],
-          "title": "RemoteSkillDownloadedEventMsg",
-          "type": "object"
-        },
         {
           "description": "Notification that skill data may have been updated and clients may want to reload.",
           "properties": {
@@ -4416,6 +4291,20 @@
         {
           "description": "Collab interaction: agent spawn end.",
           "properties": {
+            "agent_name": {
+              "description": "Optional agent name requested for the spawned agent.",
+              "type": [
+                "string",
+                "null"
+              ]
+            },
+            "agent_type": {
+              "description": "Optional agent type requested for the spawned agent.",
+              "type": [
+                "string",
+                "null"
+              ]
+            },
             "call_id": {
               "description": "Identifier for the collab tool call.",
               "type": "string"
@@ -6026,7 +5915,10 @@
       "description": "Initial collaboration mode to use when the TUI starts.",
       "enum": [
         "plan",
-        "default"
+        "code",
+        "pair_programming",
+        "execute",
+        "custom"
       ],
       "type": "string"
     },
@@ -6527,25 +6419,6 @@
         }
       ]
     },
-    "RemoteSkillSummary": {
-      "properties": {
-        "description": {
-          "type": "string"
-        },
-        "id": {
-          "type": "string"
-        },
-        "name": {
-          "type": "string"
-        }
-      },
-      "required": [
-        "description",
-        "id",
-        "name"
-      ],
-      "type": "object"
-    },
     "RemoveConversationListenerParams": {
       "$schema": "http://json-schema.org/draft-07/schema#",
       "properties": {
@@ -6821,7 +6694,7 @@
               ]
             },
             "id": {
-              "description": "Legacy id field retained for compatibility with older payloads.",
+              "description": "Set when using the chat completions API.",
               "type": [
                 "string",
                 "null"
@@ -8777,6 +8650,18 @@
           "properties": {
             "thread_spawn": {
               "properties": {
+                "agent_name": {
+                  "type": [
+                    "string",
+                    "null"
+                  ]
+                },
+                "agent_type": {
+                  "type": [
+                    "string",
+                    "null"
+                  ]
+                },
                 "depth": {
                   "format": "int32",
                   "type": "integer"
@@ -11974,7 +11859,10 @@
         "description": "Initial collaboration mode to use when the TUI starts.",
         "enum": [
           "plan",
-          "default"
+          "code",
+          "pair_programming",
+          "execute",
+          "custom"
         ],
         "type": "string"
       },
@@ -12017,12 +11905,6 @@
           "supportsPersonality": {
             "default": false,
             "type": "boolean"
-          },
-          "upgrade": {
-            "type": [
-              "string",
-              "null"
-            ]
           }
         },
         "required": [
@@ -12175,7 +12057,6 @@
       },
       "Personality": {
         "enum": [
-          "none",
           "friendly",
           "pragmatic"
         ],
@@ -12588,25 +12469,6 @@
         "title": "ReasoningTextDeltaNotification",
         "type": "object"
       },
-      "RemoteSkillSummary": {
-        "properties": {
-          "description": {
-            "type": "string"
-          },
-          "id": {
-            "type": "string"
-          },
-          "name": {
-            "type": "string"
-          }
-        },
-        "required": [
-          "description",
-          "id",
-          "name"
-        ],
-        "type": "object"
-      },
       "ResidencyRequirement": {
         "enum": [
           "us"
@@ -12807,7 +12669,7 @@
                 ]
               },
               "id": {
-                "description": "Legacy id field retained for compatibility with older payloads.",
+                "description": "Set when using the chat completions API.",
                 "type": [
                   "string",
                   "null"
@@ -13642,65 +13504,6 @@
         "title": "SkillsListResponse",
         "type": "object"
       },
-      "SkillsRemoteReadParams": {
-        "$schema": "http://json-schema.org/draft-07/schema#",
-        "title": "SkillsRemoteReadParams",
-        "type": "object"
-      },
-      "SkillsRemoteReadResponse": {
-        "$schema": "http://json-schema.org/draft-07/schema#",
-        "properties": {
-          "data": {
-            "items": {
-              "$ref": "#/definitions/v2/RemoteSkillSummary"
-            },
-            "type": "array"
-          }
-        },
-        "required": [
-          "data"
-        ],
-        "title": "SkillsRemoteReadResponse",
-        "type": "object"
-      },
-      "SkillsRemoteWriteParams": {
-        "$schema": "http://json-schema.org/draft-07/schema#",
-        "properties": {
-          "hazelnutId": {
-            "type": "string"
-          },
-          "isPreload": {
-            "type": "boolean"
-          }
-        },
-        "required": [
-          "hazelnutId",
-          "isPreload"
-        ],
-        "title": "SkillsRemoteWriteParams",
-        "type": "object"
-      },
-      "SkillsRemoteWriteResponse": {
-        "$schema": "http://json-schema.org/draft-07/schema#",
-        "properties": {
-          "id": {
-            "type": "string"
-          },
-          "name": {
-            "type": "string"
-          },
-          "path": {
-            "type": "string"
-          }
-        },
-        "required": [
-          "id",
-          "name",
-          "path"
-        ],
-        "title": "SkillsRemoteWriteResponse",
-        "type": "object"
-      },
       "SubAgentSource": {
         "oneOf": [
           {
@@ -13715,6 +13518,18 @@
             "properties": {
               "thread_spawn": {
                 "properties": {
+                  "agent_name": {
+                    "type": [
+                      "string",
+                      "null"
+                    ]
+                  },
+                  "agent_type": {
+                    "type": [
+                      "string",
+                      "null"
+                    ]
+                  },
                   "depth": {
                     "format": "int32",
                     "type": "integer"
@@ -13935,24 +13750,6 @@
         "title": "ThreadArchiveResponse",
         "type": "object"
       },
-      "ThreadCompactStartParams": {
-        "$schema": "http://json-schema.org/draft-07/schema#",
-        "properties": {
-          "threadId": {
-            "type": "string"
-          }
-        },
-        "required": [
-          "threadId"
-        ],
-        "title": "ThreadCompactStartParams",
-        "type": "object"
-      },
-      "ThreadCompactStartResponse": {
-        "$schema": "http://json-schema.org/draft-07/schema#",
-        "title": "ThreadCompactStartResponse",
-        "type": "object"
-      },
       "ThreadForkParams": {
         "$schema": "http://json-schema.org/draft-07/schema#",
         "description": "There are two ways to fork a thread: 1. By thread_id: load the thread from disk by thread_id and fork it into a new thread. 2. By path: load the thread from disk by path and fork it into a new thread.\n\nIf using path, the thread_id param will be ignored.\n\nPrefer using thread_id whenever possible.",
